# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### Planned for v0.2.0
- WebSocket åè®®æ”¯æŒ
- gRPC åè®®æ”¯æŒ
- æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
- åŠ¨æ€å“åº”æ¨¡æ¿

## [0.1.1] - 2025-11-15

### ğŸ’ª Sprint 01: MVP æ”¹è¿›ç‰ˆæœ¬

æœ¬ç‰ˆæœ¬ä¸ºä¸ºæœŸ 1 å‘¨çš„é›†ä¸­æ”¹è¿›ï¼Œé‡ç‚¹æå‡ä»£ç è´¨é‡ã€æµ‹è¯•è¦†ç›–ç‡å’Œå·¥ç¨‹åŒ–æ°´å¹³ã€‚

### âœ¨ Added

#### æµ‹è¯•å¢å¼º
- **Repository å±‚æµ‹è¯•å¤§å¹…æå‡**
  - æ–°å¢ ProjectRepository æ‰©å±•æµ‹è¯•ï¼ˆ19ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè¦†ç›–ç‡85%+ï¼‰
  - æ–°å¢ RuleRepository æ‰©å±•æµ‹è¯•ï¼ˆ23ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè¦†ç›–ç‡80%+ï¼‰
  - æ–°å¢ EnvironmentRepository æ‰©å±•æµ‹è¯•ï¼ˆ17ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè¦†ç›–ç‡80%+ï¼‰
  - Repository å±‚æ€»ä½“è¦†ç›–ç‡ä» 44.4% æå‡è‡³ 80%+
  - æ–°å¢æµ‹è¯•åœºæ™¯ï¼šè¾¹ç•Œæ¡ä»¶ã€å¼‚å¸¸å¤„ç†ã€å¹¶å‘æ“ä½œ

#### é”™è¯¯å¤„ç†ä½“ç³»
- **ç»Ÿä¸€é”™è¯¯ç ä½“ç³»** (`internal/models/errors.go`)
  - å®šä¹‰ 6 å¤§ç±»é”™è¯¯ç ï¼ˆé€šç”¨ã€é¡¹ç›®ã€ç¯å¢ƒã€è§„åˆ™ã€æ•°æ®åº“ã€ç³»ç»Ÿï¼‰
  - å…± 42 ä¸ªé”™è¯¯ç å¸¸é‡
  - æ”¯æŒä¸­è‹±æ–‡é”™è¯¯ä¿¡æ¯
  - ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼ï¼ˆåŒ…å« request_idï¼‰

#### å¥åº·æ£€æŸ¥å¢å¼º
- **ç»„ä»¶çº§å¥åº·æ£€æŸ¥** (`internal/service/health.go`)
  - æ”¯æŒè¯¦ç»†å¥åº·æ£€æŸ¥ï¼ˆ?detailed=trueï¼‰
  - æ•°æ®åº“è¿æ¥çŠ¶æ€ç›‘æ§
  - è¿è¡Œæ—¶é•¿ç»Ÿè®¡ï¼ˆç²¾ç¡®åˆ°ç§’ï¼‰
  - ä¸‰çº§å¥åº·çŠ¶æ€ï¼ˆhealthy/degraded/unhealthyï¼‰
  - ç‰ˆæœ¬ä¿¡æ¯å±•ç¤º

#### è¯·æ±‚è¿½è¸ªä¸æ€§èƒ½ç›‘æ§
- **ä¸­é—´ä»¶å¢å¼º** (`internal/service/middleware.go`)
  - RequestIDMiddleware: ä¸ºæ¯ä¸ªè¯·æ±‚ç”Ÿæˆå”¯ä¸€ request_id
  - PerformanceMiddleware: è‡ªåŠ¨è®°å½•è¯·æ±‚å¤„ç†æ—¶é•¿
  - LoggingMiddleware: ç»“æ„åŒ–æ—¥å¿—è®°å½•
  - æ…¢è¯·æ±‚å‘Šè­¦ï¼ˆè¶…è¿‡ 1 ç§’ï¼‰
  - æ”¯æŒ X-Request-ID è¯·æ±‚å¤´ä¼ é€’

#### Makefile å¢å¼º
- æ–°å¢ `make test-repository` - è¿è¡Œ Repository å±‚æµ‹è¯•
- æ–°å¢ `make test-service` - è¿è¡Œ Service å±‚æµ‹è¯•
- æ–°å¢ `make test-api` - è¿è¡Œ API å±‚æµ‹è¯•
- æ–°å¢ `make test-repository-coverage` - ç”Ÿæˆ Repository å±‚è¦†ç›–ç‡æŠ¥å‘Š
- æ–°å¢ `make test-coverage-check` - æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡æ˜¯å¦è¾¾æ ‡ï¼ˆ70%ï¼‰
- æ–°å¢ `make code-analysis` - ä»£ç è´¨é‡åˆ†æ
- æ–°å¢ `make mock-generate` - ç”Ÿæˆ Mock å¯¹è±¡
- æ–°å¢ `make deps-upgrade` - æ£€æŸ¥ä¾èµ–å‡çº§

### ğŸ“Š Improvements

#### æµ‹è¯•è¦†ç›–ç‡æå‡
- Repository å±‚ï¼š44.4% â†’ 80%+ (â†‘ 35.6%)
- æ€»ä½“è¦†ç›–ç‡ï¼š50.8% â†’ 70%+ (â†‘ 19.2%)
- æ–°å¢æµ‹è¯•ä»£ç çº¦ 1,924 è¡Œ

#### å·¥ç¨‹åŒ–æå‡
- Makefile å‘½ä»¤ä» 20+ ä¸ªå¢åŠ åˆ° 28+ ä¸ª
- æ”¯æŒåˆ†å±‚æµ‹è¯•å’Œè¦†ç›–ç‡æ£€æŸ¥
- å¢å¼ºä»£ç è´¨é‡é—¨ç¦

### ğŸ“ Documentation

- æ–°å¢é”™è¯¯ç æ–‡æ¡£ï¼ˆ`errors.go` ä¸­åŒ…å«è¯¦ç»†æ³¨é‡Šï¼‰
- æ›´æ–° CHANGELOG.mdï¼Œè®°å½•æ‰€æœ‰æ”¹è¿›

### ğŸ”§ Technical Details

#### æµ‹è¯•æ–‡ä»¶ç»“æ„
```
internal/repository/
â”œâ”€â”€ project_repository_extended_test.go  # 19 ä¸ªæµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ rule_repository_extended_test.go     # 23 ä¸ªæµ‹è¯•ç”¨ä¾‹
â””â”€â”€ environment_repository_extended_test.go  # 17 ä¸ªæµ‹è¯•ç”¨ä¾‹
```

#### é”™è¯¯ç åˆ†ç±»
- 1000-1999: é€šç”¨é”™è¯¯ï¼ˆ7 ä¸ªï¼‰
- 2000-2999: é¡¹ç›®ç›¸å…³ï¼ˆ6 ä¸ªï¼‰
- 3000-3999: ç¯å¢ƒç›¸å…³ï¼ˆ6 ä¸ªï¼‰
- 4000-4999: è§„åˆ™ç›¸å…³ï¼ˆ12 ä¸ªï¼‰
- 5000-5999: æ•°æ®åº“ç›¸å…³ï¼ˆ6 ä¸ªï¼‰
- 9000-9999: ç³»ç»Ÿé”™è¯¯ï¼ˆ5 ä¸ªï¼‰

### ğŸš€ Next Steps

æœ¬æ¬¡ Sprint ä¸ºåç»­å¼€å‘å¥ å®šäº†åšå®çš„åŸºç¡€ï¼š
1. æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ° 70%+ï¼Œä»£ç è´¨é‡æ˜¾è‘—æå‡
2. é”™è¯¯å¤„ç†ä½“ç³»å®Œå–„ï¼Œä¸º API å“åº”è§„èŒƒåŒ–æä¾›æ”¯æŒ
3. Makefile å‘½ä»¤ä¸°å¯Œï¼Œå¼€å‘æ•ˆç‡æå‡
4. ä¸º v0.2.0 çš„åŠŸèƒ½æ‰©å±•å‡†å¤‡å°±ç»ª

## [0.1.0] - 2025-11-13

### ğŸ‰ MVP ç‰ˆæœ¬å‘å¸ƒ

Mock Server çš„ç¬¬ä¸€ä¸ªå¯ç”¨ç‰ˆæœ¬ï¼Œæä¾›åŸºç¡€çš„ HTTP Mock åŠŸèƒ½ã€‚

### âœ¨ Added

#### æ ¸å¿ƒåŠŸèƒ½
- **HTTP/HTTPS åè®®æ”¯æŒ**ï¼šå®Œæ•´çš„ HTTP Mock èƒ½åŠ›
  - æ”¯æŒæ‰€æœ‰ HTTP æ–¹æ³•ï¼ˆGETã€POSTã€PUTã€DELETE ç­‰ï¼‰
  - æ”¯æŒè‡ªå®šä¹‰çŠ¶æ€ç å’Œå“åº”å¤´
  - æ”¯æŒå¤šç§å†…å®¹ç±»å‹ï¼ˆJSONã€XMLã€HTMLã€Textï¼‰

- **çµæ´»çš„è§„åˆ™åŒ¹é…å¼•æ“**
  - è·¯å¾„åŒ¹é…ï¼ˆæ”¯æŒè·¯å¾„å‚æ•°ï¼Œå¦‚ `/api/users/:id`ï¼‰
  - HTTP æ–¹æ³•åŒ¹é…
  - è¯·æ±‚å¤´åŒ¹é…ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰
  - Query å‚æ•°åŒ¹é…
  - IP ç™½åå•é™åˆ¶
  - è§„åˆ™ä¼˜å…ˆçº§æ§åˆ¶

- **é™æ€å“åº”é…ç½®**
  - æ”¯æŒ JSONã€XMLã€HTMLã€Text ç­‰å¤šç§æ ¼å¼
  - è‡ªå®šä¹‰å“åº”å»¶è¿Ÿï¼ˆå›ºå®šå»¶è¿Ÿã€éšæœºå»¶è¿Ÿï¼‰
  - çµæ´»çš„å“åº”ä½“é…ç½®

- **é¡¹ç›®å’Œç¯å¢ƒç®¡ç†**
  - å¤šé¡¹ç›®æ”¯æŒ
  - å¤šç¯å¢ƒéš”ç¦»ï¼ˆå¼€å‘ã€æµ‹è¯•ã€é¢„å‘å¸ƒç­‰ï¼‰
  - è§„åˆ™æŒ‰é¡¹ç›®å’Œç¯å¢ƒç»„ç»‡

#### ç®¡ç† API
- å®Œæ•´çš„ RESTful API
  - è§„åˆ™ CRUD æ¥å£
  - é¡¹ç›®ç®¡ç†æ¥å£
  - ç¯å¢ƒç®¡ç†æ¥å£
  - è§„åˆ™å¯ç”¨/ç¦ç”¨
  - å¥åº·æ£€æŸ¥æ¥å£
  - ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯

#### æ•°æ®å­˜å‚¨
- MongoDB æŒä¹…åŒ–
- å®Œå–„çš„ç´¢å¼•è®¾è®¡
- æ”¯æŒåˆ†é¡µæŸ¥è¯¢
- é«˜æ€§èƒ½æ•°æ®è®¿é—®

#### éƒ¨ç½²æ”¯æŒ
- Docker å®¹å™¨åŒ–
- Docker Compose ä¸€é”®éƒ¨ç½²
- è¯¦ç»†çš„éƒ¨ç½²æ–‡æ¡£
- é…ç½®æ–‡ä»¶ç®¡ç†

#### æµ‹è¯•æ¡†æ¶
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ 50.8%
  - Adapter æ¨¡å—ï¼š96.3%
  - API æ¨¡å—ï¼š89.5%
  - Config æ¨¡å—ï¼š94.4%
  - Engine æ¨¡å—ï¼š89.8%
  - Executor æ¨¡å—ï¼š86.0%
- ç«¯åˆ°ç«¯é›†æˆæµ‹è¯•
- Docker æµ‹è¯•ç¯å¢ƒ
- CI/CD æµæ°´çº¿ï¼ˆGitHub Actionsï¼‰
- æ€§èƒ½æµ‹è¯•æ¡†æ¶

### ğŸ“š Documentation
- å®Œæ•´çš„ README.md
- éƒ¨ç½²æŒ‡å—ï¼ˆDEPLOYMENT.mdï¼‰
- é¡¹ç›®æ€»ç»“ï¼ˆPROJECT_SUMMARY.mdï¼‰
- API ä½¿ç”¨ç¤ºä¾‹
- æµ‹è¯•æ–‡æ¡£

### ğŸ› ï¸ Technical Details

#### æŠ€æœ¯æ ˆ
- **è¯­è¨€**ï¼šGo 1.21+
- **Web æ¡†æ¶**ï¼šGin
- **æ•°æ®åº“**ï¼šMongoDB 6.0+
- **é…ç½®ç®¡ç†**ï¼šViper
- **æ—¥å¿—ç³»ç»Ÿ**ï¼šZap
- **å®¹å™¨åŒ–**ï¼šDocker

#### æ€§èƒ½æŒ‡æ ‡
- HTTP è¯·æ±‚ QPSï¼š> 10,000
- å¹³å‡å“åº”æ—¶é—´ï¼š< 10ms
- P99 å“åº”æ—¶é—´ï¼š< 50ms
- æ”¯æŒè§„åˆ™æ•°é‡ï¼š> 10,000

### ğŸ”’ Security
- æ”¯æŒ CORS é…ç½®
- IP ç™½åå•é™åˆ¶
- è¾“å…¥éªŒè¯

### ğŸ› Bug Fixes
- ä¿®å¤ MongoDB ç´¢å¼•åˆ›å»ºé”™è¯¯ï¼ˆä½¿ç”¨ bson.Dï¼‰
- ä¿®å¤ Docker å¥åº·æ£€æŸ¥é—®é¢˜
- ä¿®å¤ Go ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜
- ä¿®å¤é›†æˆæµ‹è¯•ç¯å¢ƒå˜é‡é—®é¢˜

### ğŸ“¦ Dependencies
- gin-gonic/gin v1.11.0
- spf13/viper v1.21.0
- go.uber.org/zap v1.27.0
- go.mongodb.org/mongo-driver v1.17.6
- stretchr/testify v1.11.1
- google/uuid v1.6.0

### ğŸš§ Known Limitations
1. ä»…æ”¯æŒ HTTP/HTTPS åè®®
2. ä»…æ”¯æŒç®€å•åŒ¹é…ï¼ˆæ­£åˆ™å’Œè„šæœ¬åŒ¹é…å¾…å®ç°ï¼‰
3. ä»…æ”¯æŒé™æ€å“åº”ï¼ˆåŠ¨æ€æ¨¡æ¿å¾…å®ç°ï¼‰
4. æ— ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
5. æ—  Web ç®¡ç†ç•Œé¢

### ğŸ”® Future Plans
- WebSocketã€gRPCã€TCP/UDP åè®®æ”¯æŒ
- æ­£åˆ™è¡¨è¾¾å¼å’Œè„šæœ¬åŒ–åŒ¹é…
- åŠ¨æ€å“åº”æ¨¡æ¿
- Web ç®¡ç†ç•Œé¢
- ç”¨æˆ·æƒé™ä½“ç³»
- è§„åˆ™ç‰ˆæœ¬æ§åˆ¶
- è¯·æ±‚æ—¥å¿—å’Œç»Ÿè®¡åˆ†æ

---

## [Unreleased]

### Planned for v0.2.0
- WebSocket åè®®æ”¯æŒ
- gRPC åè®®æ”¯æŒ
- æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
- åŠ¨æ€å“åº”æ¨¡æ¿

---

**Legend:**
- âœ¨ Added: æ–°å¢åŠŸèƒ½
- ğŸ”„ Changed: åŠŸèƒ½å˜æ›´
- ğŸ—‘ï¸ Deprecated: å³å°†åºŸå¼ƒ
- âŒ Removed: å·²åˆ é™¤åŠŸèƒ½
- ğŸ› Fixed: Bug ä¿®å¤
- ğŸ”’ Security: å®‰å…¨ç›¸å…³

[0.1.0]: https://github.com/gomockserver/mockserver/releases/tag/v0.1.0
[Unreleased]: https://github.com/gomockserver/mockserver/compare/v0.1.0...HEAD
