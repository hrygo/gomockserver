# Scripts ç›®å½•è¯´æ˜

æœ¬ç›®å½•åŒ…å« Mock Server é¡¹ç›®çš„å„ç±»è„šæœ¬å·¥å…·ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
scripts/
â”œâ”€â”€ coverage/                    # æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šï¼ˆHTMLï¼‰
â”œâ”€â”€ run_unit_tests.sh            # å•å…ƒæµ‹è¯•æ‰§è¡Œè„šæœ¬
â”œâ”€â”€ test-env.sh                  # Docker æµ‹è¯•ç¯å¢ƒç®¡ç†
â”œâ”€â”€ mvp-test.sh                  # MVP ç»¼åˆæµ‹è¯•è„šæœ¬
â”œâ”€â”€ test.sh                      # å¿«é€ŸåŠŸèƒ½æµ‹è¯•è„šæœ¬
â””â”€â”€ README.md                    # æœ¬è¯´æ˜æ–‡æ¡£
```

## ğŸ”§ è„šæœ¬è¯´æ˜

### æ ¸å¿ƒæµ‹è¯•è„šæœ¬

#### `run_unit_tests.sh`
**ç”¨é€”**ï¼šæ‰§è¡Œå®Œæ•´çš„å•å…ƒæµ‹è¯•å¥—ä»¶å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š

**åŠŸèƒ½**ï¼š
- è¿è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•
- ç”Ÿæˆæ¨¡å—çº§è¦†ç›–ç‡æŠ¥å‘Š
- åˆ†ææµ‹è¯•ç»“æœå¹¶è¾“å‡ºç»Ÿè®¡ä¿¡æ¯
- è‡ªåŠ¨æ‰“å¼€è¦†ç›–ç‡æŠ¥å‘Šï¼ˆå¯é€‰ï¼‰

**ä½¿ç”¨**ï¼š
```bash
./scripts/run_unit_tests.sh
```

**è¾“å‡º**ï¼š
- `scripts/coverage/unit-coverage-*.html` - å„æ¨¡å—è¦†ç›–ç‡æŠ¥å‘Š
- ç»ˆç«¯è¾“å‡ºæµ‹è¯•ç»Ÿè®¡ä¿¡æ¯

---

#### `test-env.sh`
**ç”¨é€”**ï¼šDocker æµ‹è¯•ç¯å¢ƒç®¡ç†

**åŠŸèƒ½**ï¼š
- å¯åŠ¨æµ‹è¯•ç¯å¢ƒï¼ˆMongoDB + Mock Serverï¼‰
- åœæ­¢å¹¶æ¸…ç†æµ‹è¯•ç¯å¢ƒ
- æŸ¥çœ‹æµ‹è¯•ç¯å¢ƒçŠ¶æ€
- è¿è¡Œå†’çƒŸæµ‹è¯•

**ä½¿ç”¨**ï¼š
```bash
# å¯åŠ¨æµ‹è¯•ç¯å¢ƒ
./scripts/test-env.sh start

# åœæ­¢æµ‹è¯•ç¯å¢ƒ
./scripts/test-env.sh stop

# æŸ¥çœ‹çŠ¶æ€
./scripts/test-env.sh status

# è¿è¡Œå†’çƒŸæµ‹è¯•
./scripts/test-env.sh test
```

---

#### `test.sh`
**ç”¨é€”**ï¼šå¿«é€ŸåŠŸèƒ½æµ‹è¯•è„šæœ¬

**åŠŸèƒ½**ï¼š
- éªŒè¯æœåŠ¡å¥åº·çŠ¶æ€
- æµ‹è¯•åŸºæœ¬ CRUD æ“ä½œ
- æµ‹è¯• Mock æ¥å£åŠŸèƒ½
- é€‚åˆå¿«é€ŸéªŒè¯éƒ¨ç½²æ˜¯å¦æ­£å¸¸

**ä½¿ç”¨**ï¼š
```bash
# ç¡®ä¿æœåŠ¡å·²å¯åŠ¨
docker-compose up -d

# è¿è¡Œæµ‹è¯•
./scripts/test.sh
```

**æ³¨æ„**ï¼šéœ€è¦æœåŠ¡åœ¨ 8080ï¼ˆç®¡ç†APIï¼‰å’Œ 9090ï¼ˆMockæœåŠ¡ï¼‰ç«¯å£è¿è¡Œ

---

### è¾…åŠ©å·¥å…·è„šæœ¬

#### `mvp-test.sh`
**ç”¨é€”**ï¼šMVP ç‰ˆæœ¬ç»¼åˆæµ‹è¯•è„šæœ¬

**åŠŸèƒ½**ï¼š
- æ‰§è¡Œå®Œæ•´çš„æµ‹è¯•æµç¨‹
- åŒ…å«å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€åŠŸèƒ½æµ‹è¯•
- ç”Ÿæˆè¯¦ç»†æµ‹è¯•æŠ¥å‘Š
- ç”¨äºå‘å¸ƒå‰çš„å®Œæ•´éªŒè¯

**ä½¿ç”¨**ï¼š
```bash
./scripts/mvp-test.sh
```

---

## ğŸ“Š Coverage ç›®å½•

`coverage/` ç›®å½•åŒ…å«å„æ¨¡å—çš„æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šï¼ˆHTMLæ ¼å¼ï¼‰ï¼š

- `unit-coverage-all.html` - æ€»ä½“è¦†ç›–ç‡
- `unit-coverage-adapter.html` - Adapter æ¨¡å—
- `unit-coverage-api.html` - API æ¨¡å—
- `unit-coverage-config.html` - Config æ¨¡å—
- `unit-coverage-engine.html` - Engine æ¨¡å—
- `unit-coverage-executor.html` - Executor æ¨¡å—
- `unit-coverage-repository.html` - Repository æ¨¡å—
- `unit-coverage-service.html` - Service æ¨¡å—

**æŸ¥çœ‹æ–¹å¼**ï¼š
```bash
# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
open scripts/coverage/unit-coverage-all.html  # macOS
xdg-open scripts/coverage/unit-coverage-all.html  # Linux
```

---

## ğŸš€ å¸¸ç”¨å·¥ä½œæµ

### å¼€å‘æ—¶è¿è¡Œæµ‹è¯•
```bash
# 1. è¿è¡Œå•å…ƒæµ‹è¯•
./scripts/run_unit_tests.sh

# 2. æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Š
open scripts/coverage/unit-coverage-all.html
```

### å¯åŠ¨æµ‹è¯•ç¯å¢ƒéªŒè¯
```bash
# 1. å¯åŠ¨æµ‹è¯•ç¯å¢ƒ
./scripts/test-env.sh start

# 2. è¿è¡Œå¿«é€Ÿæµ‹è¯•
./scripts/test.sh

# 3. åœæ­¢ç¯å¢ƒ
./scripts/test-env.sh stop
```

### å‘å¸ƒå‰å®Œæ•´æµ‹è¯•
```bash
# 1. è¿è¡Œ MVP ç»¼åˆæµ‹è¯•
./scripts/mvp-test.sh

# 2. ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
./scripts/test-completion-report.sh

# 3. æ£€æŸ¥è¦†ç›–ç‡æ˜¯å¦è¾¾æ ‡
```

---

## ğŸ“ è„šæœ¬ç»´æŠ¤æŒ‡å—

### æ·»åŠ æ–°è„šæœ¬
1. è„šæœ¬åº”æ”¾åœ¨ `scripts/` ç›®å½•ä¸‹
2. æ–‡ä»¶åä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦ï¼ˆå¦‚ `my-script.sh`ï¼‰
3. æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼š`chmod +x scripts/my-script.sh`
4. åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ æ¸…æ™°çš„æ³¨é‡Šè¯´æ˜ç”¨é€”
5. æ›´æ–°æœ¬ README.md æ–‡ä»¶

### è„šæœ¬è§„èŒƒ
- ä½¿ç”¨ `#!/bin/bash` ä½œä¸º shebang
- è®¾ç½® `set -e` åœ¨é”™è¯¯æ—¶é€€å‡º
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å
- æ·»åŠ é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º
- ä½¿ç”¨å½©è‰²è¾“å‡ºå¢å¼ºå¯è¯»æ€§

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [README.md](../README.md) - é¡¹ç›®ä¸»æ–‡æ¡£
- [CONTRIBUTING.md](../CONTRIBUTING.md) - è´¡çŒ®æŒ‡å—
- [Makefile](../Makefile) - æ„å»ºè„šæœ¬ï¼ˆåŒ…å« `make test` ç­‰å‘½ä»¤ï¼‰
- [DEPLOYMENT.md](../DEPLOYMENT.md) - éƒ¨ç½²æŒ‡å—

---

**æœ€åæ›´æ–°**: 2025-01-14  
**ç»´æŠ¤è€…**: Mock Server å›¢é˜Ÿ
